@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --brand-primary: #10b981;
    --brand-secondary: #6366f1;
    --surface-0: #0b1220;
    --surface-1: #0f172a;
    --surface-2: #111827;
    --surface-3: #0f172a;
    --text-0: #f8fafc;
    --text-1: #e2e8f0;
    --text-2: #94a3b8;
    --border-0: rgba(148, 163, 184, 0.2);
  }

  [data-theme="glass"] {
    --surface-0: #0b1220;
    --surface-1: rgba(15, 23, 42, 0.72);
    --surface-2: rgba(17, 24, 39, 0.8);
    --surface-3: rgba(2, 6, 23, 0.9);
    --text-0: #f8fafc;
    --text-1: #e2e8f0;
    --text-2: #94a3b8;
    --border-0: rgba(148, 163, 184, 0.22);
  }
  
  html {
    -webkit-tap-highlight-color: transparent;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-slate-950 text-slate-100 antialiased overflow-hidden;
    position: fixed;
    width: 100%;
    height: 100%;
  }

  [data-theme="glass"] body {
    background: linear-gradient(-45deg, #020617, #0b1220, #111827, #0b1220);
    background-size: 400% 400%;
    animation: aurora 10s ease infinite;
  }

  #root {
    height: 100%;
    display: flex;
    flex-direction: column;
  }
}

@layer components {
  .glass-panel {
    @apply bg-slate-900/70 backdrop-blur-md border border-white/15 shadow-2xl;
  }

  .card-hover-glow {
    @apply transition-all duration-300 hover:shadow-[0_0_20px_rgba(99,102,241,0.2)] hover:border-indigo-500/30;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-slate-800 rounded-full hover:bg-slate-700 transition-colors;
  }

  .safe-pb {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-pt {
    padding-top: env(safe-area-inset-top);
  }

  .btn-base {
    @apply inline-flex items-center justify-center gap-2 rounded-xl font-black uppercase tracking-widest transition-all active:scale-95;
  }

  .btn-primary {
    @apply btn-base bg-emerald-600 text-white hover:bg-emerald-700 shadow-lg shadow-emerald-900/20;
  }

  .btn-secondary {
    @apply btn-base bg-indigo-600 text-white hover:bg-indigo-700 shadow-lg shadow-indigo-900/20;
  }

  .btn-danger {
    @apply btn-base bg-red-600 text-white hover:bg-red-700 shadow-lg shadow-red-900/20;
  }

  .btn-soft {
    @apply btn-base bg-slate-800 text-slate-100 hover:bg-slate-700;
  }

  .btn-ghost {
    @apply btn-base bg-transparent text-slate-300 hover:text-slate-100;
  }

  /* === THEME V2: Form Inputs === */
  .field-base {
    @apply w-full px-3 py-2 rounded-lg border-2 transition-all outline-none;
  }

  .field-input {
    @apply field-base bg-slate-800 text-slate-100 border-slate-600 placeholder:text-slate-500;
    @apply focus:border-indigo-500 focus:ring-2 focus:ring-indigo-900/50;
  }

  .field-input-lg {
    @apply field-input p-3;
  }

  .field-contrast {
    @apply field-input;
  }

  .field-label {
    @apply block text-xs font-black uppercase tracking-widest text-gray-300 mb-1.5;
  }

  .field-label-secondary {
    @apply block text-[10px] font-black uppercase tracking-widest text-gray-400 mb-1;
  }

  .field-hint {
    @apply text-[11px] text-gray-400 mt-1;
  }

  /* === THEME V2: Cards & Surfaces === */
  .card-base {
    @apply bg-slate-900 border border-slate-700 rounded-2xl shadow-sm;
  }

  .card-elevated {
    @apply card-base shadow-lg;
  }

  .card-surface {
    @apply bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-2xl shadow-sm;
  }

  .card-header {
    @apply font-black text-gray-700 dark:text-gray-300 mb-6 flex items-center gap-2 border-b dark:border-slate-800 pb-2 uppercase text-xs tracking-widest;
  }

  .card-section {
    @apply bg-white dark:bg-slate-900 rounded-2xl border border-gray-200 dark:border-slate-700 p-6 shadow-sm dark:text-slate-100;
  }

  /* === THEME V2: Text Colors === */
  .text-primary {
    @apply text-gray-900 dark:text-slate-100;
  }

  .text-secondary {
    @apply text-gray-600 dark:text-gray-400;
  }

  .text-hint {
    @apply text-gray-500 dark:text-gray-500;
  }

  .text-muted {
    @apply text-gray-500 dark:text-slate-500;
  }

  /* === THEME V2: Tables & Lists === */
  .table-header {
    @apply bg-slate-800 text-slate-100 font-bold uppercase text-xs tracking-widest;
  }

  .table-row {
    @apply border-b border-slate-700 hover:bg-slate-800/50 transition-colors;
  }

  .table-cell {
    @apply px-4 py-3 text-sm text-slate-100;
  }

  .table-cell-secondary {
    @apply table-cell text-slate-400;
  }

  /* === THEME V2: Tabs & Navigation === */
  .tab-base {
    @apply relative px-4 py-2 text-sm font-semibold transition-all border-b-2 border-transparent;
  }

  .tab-active {
    @apply tab-base text-indigo-400 border-b-2 border-indigo-500;
  }

  .tab-inactive {
    @apply tab-base text-slate-400 hover:text-slate-300;
  }

  .tab-panel {
    @apply block w-full;
  }

  .tab-panel-hidden {
    @apply hidden;
  }

  /* === THEME V2: Modal Components === */
  .modal-surface {
    @apply bg-slate-950/90 text-slate-100 border border-slate-800 shadow-2xl backdrop-blur-md;
  }

  .modal-header {
    @apply bg-slate-900/70 border-b border-slate-800;
  }

  .modal-footer {
    @apply bg-slate-900/70 border-t border-slate-800;
  }

  .modal-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm;
  }
}

.animate-countdown {
  animation: countdown linear forwards;
}

.animate-trash-paper-1 {
  animation: trash-paper-1 1.5s ease-in forwards;
}

.animate-trash-paper-2 {
  animation: trash-paper-2 1.5s ease-in 0.2s forwards;
}

@keyframes aurora {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-aurora {
  background: linear-gradient(-45deg, #020617, #0f172a, #1e1b4b, #020617);
  background-size: 400% 400%;
  animation: aurora 8s ease infinite;
}

@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}


@keyframes trash-paper-1 {
  0% { transform: translateY(-20px) rotate(0deg); opacity: 0; }
  20% { opacity: 1; }
  100% { transform: translateY(40px) rotate(360deg); opacity: 0; }
}

@keyframes trash-paper-2 {
  0% { transform: translateY(-20px) rotate(0deg); opacity: 0; }
  20% { opacity: 1; }
  100% { transform: translateY(50px) rotate(-360deg); opacity: 0; }
}

/* === RESPONSIVIDADE - FASE 2 === */
@layer components {
  /* Container Guidelines */
  .container-mobile {
    @apply px-3 sm:px-4;
  }

  .container-tablet {
    @apply sm:px-6;
  }

  .container-desktop {
    @apply lg:px-8;
  }

  .container-responsive {
    @apply px-3 sm:px-4 md:px-6 lg:px-8;
  }

  /* Responsive Grid Patterns */
  .grid-auto-responsive {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4;
  }

  .grid-responsive-2 {
    @apply grid grid-cols-1 md:grid-cols-2 gap-4;
  }

  .grid-responsive-3 {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4;
  }

  .grid-responsive-4 {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4;
  }

  /* Typography Responsive */
  .text-responsive-xl {
    @apply text-lg sm:text-xl md:text-2xl;
  }

  .text-responsive-lg {
    @apply text-base sm:text-lg md:text-xl;
  }

  .text-responsive-base {
    @apply text-sm sm:text-base md:text-base;
  }

  /* Flex Responsive */
  .flex-responsive {
    @apply flex flex-col sm:flex-row gap-4;
  }

  .flex-responsive-center {
    @apply flex flex-col sm:flex-row items-center justify-between gap-4;
  }

  /* Text Truncate Patterns */
  .text-truncate-1 {
    @apply truncate;
  }

  .text-truncate-2 {
    @apply line-clamp-2;
  }

  .text-truncate-3 {
    @apply line-clamp-3;
  }

  .text-break-word {
    @apply break-words;
  }

  /* Table Wrapper */
  .table-responsive-wrapper {
    @apply overflow-x-auto -mx-3 sm:mx-0;
  }

  .table-responsive {
    @apply w-full min-w-[800px] text-sm;
  }

  /* Modal Responsive */
  .modal-responsive {
    @apply fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-6;
  }

  .modal-responsive-content {
    @apply bg-slate-900 dark:bg-slate-900 rounded-2xl border border-slate-800 w-full max-w-2xl max-h-[85vh] overflow-y-auto;
  }

  .modal-responsive-footer {
    @apply flex flex-col sm:flex-row gap-3 pt-4 border-t border-slate-800;
  }

  .modal-responsive-buttons {
    @apply flex flex-col sm:flex-row gap-3 w-full;
  }

  .modal-responsive-button {
    @apply px-4 py-2.5 sm:py-2 text-sm font-bold rounded-lg transition-all flex-1 sm:flex-none;
  }

  /* Form Responsive */
  .form-group-responsive {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
  }

  .form-group-responsive-2 {
    @apply grid grid-cols-1 md:grid-cols-2 gap-6;
  }

  .form-group-full {
    @apply col-span-1 md:col-span-2 lg:col-span-3;
  }

  .form-group-half {
    @apply col-span-1 md:col-span-1;
  }

  /* Card Responsive */
  .card-responsive {
    @apply bg-slate-900 rounded-2xl border border-slate-800 p-4 sm:p-6;
  }

  .card-responsive-content {
    @apply flex flex-col gap-4 min-w-0;
  }

  /* Touch Target Minimum */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  .button-responsive {
    @apply min-h-[44px] px-4 py-2.5 rounded-lg font-bold text-sm transition-all active:scale-95;
  }

  /* Focus States */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-slate-900;
  }

  .focus-ring-light {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 focus:ring-offset-white;
  }

  /* Flex Safety */
  .flex-safe {
    @apply min-w-0 flex-shrink;
  }

  /* Safe Area Responsive */
  .safe-area-mobile {
    @apply pb-16 md:pb-0;
  }

  .safe-area-mobile-top {
    @apply pt-2 md:pt-0;
  }

  /* Overflow Patterns */
  .overflow-x-scroll-smooth {
    @apply overflow-x-auto scroll-smooth;
  }

  .overflow-hidden-mobile {
    @apply overflow-hidden sm:overflow-visible;
  }

  /* Visibility Patterns */
  .show-mobile {
    @apply block sm:hidden;
  }

  .hide-mobile {
    @apply hidden sm:block;
  }

  .show-tablet {
    @apply hidden sm:block md:block;
  }

  .show-desktop {
    @apply hidden lg:block;
  }

  /* Spacing Responsive */
  .gap-responsive {
    @apply gap-2 sm:gap-3 md:gap-4;
  }

  .p-responsive {
    @apply p-3 sm:p-4 md:p-6 lg:p-8;
  }

  .py-responsive {
    @apply py-2 sm:py-3 md:py-4 lg:py-6;
  }

  .px-responsive {
    @apply px-3 sm:px-4 md:px-6 lg:px-8;
  }

  /* Density Adjustment (1366px fix) */
  @screen lg {
    .lg-compact {
      @apply px-4 py-2;
    }
  }

  @media (min-width: 1366px) {
    .compact-1366 {
      @apply px-4 py-2 text-sm;
    }

    .px-compact-1366 {
      @apply px-4;
    }
  }

  /* Width Responsive */
  .w-responsive-full {
    @apply w-full;
  }

  .max-w-responsive {
    @apply max-w-full sm:max-w-[90%] md:max-w-[85%] lg:max-w-6xl;
  }
}
